<!DOCTYPE HTML>
<html>
<head>
    <title>C20T3FDB Tests</title>
    <meta charset="utf-8" />
</head>
<body>
    <div id="map-canvas"></div>
    <script type="text/javascript"> 
        // var base_URL = "http://localhost:5000/"; // local
        var base_URL = "https://c20t3fdb.herokuapp.com/"; // remote

        // tests /sendOffer route
        test_sendOffer = function() {
            var url = base_URL + 'sendOffer';
            var params = "provider=" + 'steverson' + '&food=' + 'stevefood' + '&address=' + '84 James Avenue' + '&when=' + "oclock";

            doRequest('POST', url, params);
        };

        test_claimOffer = function() {
            var url = base_URL + 'claimOffer';
            console.log("steve");
        };

        test_unclaimedOffers = function() {
            var url = base_URL + 'unclaimedOffers';
            console.log("steve");
        };

        test_claimedOffers = function() {
            var url = base_URL + 'claimedOffers';
            console.log("steve");
        };

        test_allOffers = function() {
            var url = base_URL + 'allOffers';
            console.log("steve");
        };

        doRequest = function(method, url, params) {
            var req = new XMLHttpRequest();
            req.open(method, url, true);
            console.log('dein params: ', params);
            req.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

            req.onreadystatechange = function() {
                console.log('ready? ' + req.readyState);
                console.log('status? ' + req.status);
                console.log('txt? ' + req.responseText);
                if (req.readyState == 4 && req.status == 200) {
                    return req.responseText;
                }
            };
            req.send(params);
        };

        test_all = function() {
            test_sendOffer();
            // test_claimOffer();
            // test_unclaimedOffers();
            // test_claimedOffers();
            // test_allOffers();
        };

        test_all();
    </script>
</body>
</html>
